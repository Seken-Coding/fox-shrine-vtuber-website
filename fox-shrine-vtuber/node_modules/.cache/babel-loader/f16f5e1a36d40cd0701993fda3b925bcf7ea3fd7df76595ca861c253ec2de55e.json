{"ast":null,"code":"var _jsxFileName = \"X:\\\\GitHub-Repo\\\\fox-shrine-vtuber-website\\\\fox-shrine-vtuber\\\\src\\\\hooks\\\\useConfig.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState, useEffect, createContext, useContext } from 'react';\nimport { siteConfig as defaultConfig } from '../config/siteConfig';\n\n// Create context for configuration\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ConfigContext = /*#__PURE__*/createContext();\n\n// Custom hook to use configuration\nexport const useConfig = () => {\n  _s();\n  const context = useContext(ConfigContext);\n  if (!context) {\n    throw new Error('useConfig must be used within a ConfigProvider');\n  }\n  return context;\n};\n\n// Configuration provider component\n_s(useConfig, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const ConfigProvider = ({\n  children\n}) => {\n  _s2();\n  const [config, setConfig] = useState(defaultConfig);\n\n  // Load config from localStorage on mount\n  useEffect(() => {\n    const savedConfig = localStorage.getItem('foxShrineConfig');\n    if (savedConfig) {\n      try {\n        const parsedConfig = JSON.parse(savedConfig);\n        // Merge with defaults to ensure all properties exist\n        setConfig({\n          ...defaultConfig,\n          ...parsedConfig\n        });\n      } catch (error) {\n        console.error('Error loading saved config:', error);\n        setConfig(defaultConfig);\n      }\n    }\n  }, []);\n\n  // Save config to localStorage whenever it changes\n  useEffect(() => {\n    localStorage.setItem('foxShrineConfig', JSON.stringify(config));\n  }, [config]);\n\n  // Update configuration function\n  const updateConfig = (path, value) => {\n    setConfig(prevConfig => {\n      const newConfig = {\n        ...prevConfig\n      };\n\n      // Handle nested paths like 'character.name' or 'socialMedia.youtube'\n      const pathArray = path.split('.');\n      let current = newConfig;\n\n      // Navigate to the parent of the target property\n      for (let i = 0; i < pathArray.length - 1; i++) {\n        if (!current[pathArray[i]]) {\n          current[pathArray[i]] = {};\n        }\n        current = current[pathArray[i]];\n      }\n\n      // Set the final value\n      current[pathArray[pathArray.length - 1]] = value;\n      return newConfig;\n    });\n  };\n\n  // Reset config to defaults\n  const resetConfig = () => {\n    setConfig(defaultConfig);\n    localStorage.removeItem('foxShrineConfig');\n  };\n\n  // Export current config as JSON\n  const exportConfig = () => {\n    const configContent = `// Fox Shrine VTuber Website Configuration\n// This file contains all configurable content for the website\n\nexport const siteConfig = ${JSON.stringify(config, null, 2)};\n\n// Helper Functions\nexport const getSocialLink = (platform) => {\n  return siteConfig.socialMedia[platform] || '#';\n};\n\nexport const getSupportLink = (platform) => {\n  return siteConfig.support[platform] || '#';\n};\n\nexport const isFeatureEnabled = (feature) => {\n  return siteConfig.features[feature] || false;\n};\n\nexport const getCharacterInfo = (field) => {\n  return siteConfig.character[field] || '';\n};\n\nexport const getStreamingInfo = (field) => {\n  return siteConfig.streaming[field] || '';\n};\n\nexport const getScheduleForDay = (day) => {\n  return siteConfig.schedule.weekly[day.toLowerCase()] || null;\n};\n`;\n\n    // Create download\n    const blob = new Blob([configContent], {\n      type: 'text/javascript'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'siteConfig.js';\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  // Helper functions that work with current config\n  const getSocialLink = platform => {\n    return config.socialMedia[platform] || '#';\n  };\n  const getSupportLink = platform => {\n    return config.support[platform] || '#';\n  };\n  const isFeatureEnabled = feature => {\n    return config.features[feature] || false;\n  };\n  const getCharacterInfo = field => {\n    return config.character[field] || '';\n  };\n  const getStreamingInfo = field => {\n    return config.streaming[field] || '';\n  };\n  const getNavigationItems = () => {\n    return config.navigationMenu.filter(item => {\n      // Hide certain items based on feature flags\n      if (item.path === '/gallery' && !isFeatureEnabled('enableFanArtGallery')) {\n        return false;\n      }\n      if (item.path === '/merch' && !isFeatureEnabled('showMerchSection')) {\n        return false;\n      }\n      return true;\n    });\n  };\n  const value = {\n    config,\n    updateConfig,\n    resetConfig,\n    exportConfig,\n    getSocialLink,\n    getSupportLink,\n    isFeatureEnabled,\n    getCharacterInfo,\n    getStreamingInfo,\n    getNavigationItems\n  };\n  return /*#__PURE__*/_jsxDEV(ConfigContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 5\n  }, this);\n};\n_s2(ConfigProvider, \"dUfUCh4fTzPV/ALuCXRqxcp7M6s=\");\n_c = ConfigProvider;\nexport default ConfigProvider;\nvar _c;\n$RefreshReg$(_c, \"ConfigProvider\");","map":{"version":3,"names":["useState","useEffect","createContext","useContext","siteConfig","defaultConfig","jsxDEV","_jsxDEV","ConfigContext","useConfig","_s","context","Error","ConfigProvider","children","_s2","config","setConfig","savedConfig","localStorage","getItem","parsedConfig","JSON","parse","error","console","setItem","stringify","updateConfig","path","value","prevConfig","newConfig","pathArray","split","current","i","length","resetConfig","removeItem","exportConfig","configContent","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","getSocialLink","platform","socialMedia","getSupportLink","support","isFeatureEnabled","feature","features","getCharacterInfo","field","character","getStreamingInfo","streaming","getNavigationItems","navigationMenu","filter","item","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["X:/GitHub-Repo/fox-shrine-vtuber-website/fox-shrine-vtuber/src/hooks/useConfig.js"],"sourcesContent":["import { useState, useEffect, createContext, useContext } from 'react';\r\nimport { siteConfig as defaultConfig } from '../config/siteConfig';\r\n\r\n// Create context for configuration\r\nconst ConfigContext = createContext();\r\n\r\n// Custom hook to use configuration\r\nexport const useConfig = () => {\r\n  const context = useContext(ConfigContext);\r\n  if (!context) {\r\n    throw new Error('useConfig must be used within a ConfigProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\n// Configuration provider component\r\nexport const ConfigProvider = ({ children }) => {\r\n  const [config, setConfig] = useState(defaultConfig);\r\n\r\n  // Load config from localStorage on mount\r\n  useEffect(() => {\r\n    const savedConfig = localStorage.getItem('foxShrineConfig');\r\n    if (savedConfig) {\r\n      try {\r\n        const parsedConfig = JSON.parse(savedConfig);\r\n        // Merge with defaults to ensure all properties exist\r\n        setConfig({ ...defaultConfig, ...parsedConfig });\r\n      } catch (error) {\r\n        console.error('Error loading saved config:', error);\r\n        setConfig(defaultConfig);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Save config to localStorage whenever it changes\r\n  useEffect(() => {\r\n    localStorage.setItem('foxShrineConfig', JSON.stringify(config));\r\n  }, [config]);\r\n\r\n  // Update configuration function\r\n  const updateConfig = (path, value) => {\r\n    setConfig(prevConfig => {\r\n      const newConfig = { ...prevConfig };\r\n      \r\n      // Handle nested paths like 'character.name' or 'socialMedia.youtube'\r\n      const pathArray = path.split('.');\r\n      let current = newConfig;\r\n      \r\n      // Navigate to the parent of the target property\r\n      for (let i = 0; i < pathArray.length - 1; i++) {\r\n        if (!current[pathArray[i]]) {\r\n          current[pathArray[i]] = {};\r\n        }\r\n        current = current[pathArray[i]];\r\n      }\r\n      \r\n      // Set the final value\r\n      current[pathArray[pathArray.length - 1]] = value;\r\n      \r\n      return newConfig;\r\n    });\r\n  };\r\n\r\n  // Reset config to defaults\r\n  const resetConfig = () => {\r\n    setConfig(defaultConfig);\r\n    localStorage.removeItem('foxShrineConfig');\r\n  };\r\n\r\n  // Export current config as JSON\r\n  const exportConfig = () => {\r\n    const configContent = `// Fox Shrine VTuber Website Configuration\r\n// This file contains all configurable content for the website\r\n\r\nexport const siteConfig = ${JSON.stringify(config, null, 2)};\r\n\r\n// Helper Functions\r\nexport const getSocialLink = (platform) => {\r\n  return siteConfig.socialMedia[platform] || '#';\r\n};\r\n\r\nexport const getSupportLink = (platform) => {\r\n  return siteConfig.support[platform] || '#';\r\n};\r\n\r\nexport const isFeatureEnabled = (feature) => {\r\n  return siteConfig.features[feature] || false;\r\n};\r\n\r\nexport const getCharacterInfo = (field) => {\r\n  return siteConfig.character[field] || '';\r\n};\r\n\r\nexport const getStreamingInfo = (field) => {\r\n  return siteConfig.streaming[field] || '';\r\n};\r\n\r\nexport const getScheduleForDay = (day) => {\r\n  return siteConfig.schedule.weekly[day.toLowerCase()] || null;\r\n};\r\n`;\r\n\r\n    // Create download\r\n    const blob = new Blob([configContent], { type: 'text/javascript' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = 'siteConfig.js';\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  // Helper functions that work with current config\r\n  const getSocialLink = (platform) => {\r\n    return config.socialMedia[platform] || '#';\r\n  };\r\n\r\n  const getSupportLink = (platform) => {\r\n    return config.support[platform] || '#';\r\n  };\r\n\r\n  const isFeatureEnabled = (feature) => {\r\n    return config.features[feature] || false;\r\n  };\r\n\r\n  const getCharacterInfo = (field) => {\r\n    return config.character[field] || '';\r\n  };\r\n\r\n  const getStreamingInfo = (field) => {\r\n    return config.streaming[field] || '';\r\n  };\r\n\r\n  const getNavigationItems = () => {\r\n    return config.navigationMenu.filter(item => {\r\n      // Hide certain items based on feature flags\r\n      if (item.path === '/gallery' && !isFeatureEnabled('enableFanArtGallery')) {\r\n        return false;\r\n      }\r\n      if (item.path === '/merch' && !isFeatureEnabled('showMerchSection')) {\r\n        return false;\r\n      }\r\n      return true;\r\n    });\r\n  };\r\n\r\n  const value = {\r\n    config,\r\n    updateConfig,\r\n    resetConfig,\r\n    exportConfig,\r\n    getSocialLink,\r\n    getSupportLink,\r\n    isFeatureEnabled,\r\n    getCharacterInfo,\r\n    getStreamingInfo,\r\n    getNavigationItems\r\n  };\r\n\r\n  return (\r\n    <ConfigContext.Provider value={value}>\r\n      {children}\r\n    </ConfigContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ConfigProvider;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}